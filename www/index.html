<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Techbrowser Powered Site Search</title>
		
		<!-- reset css -->
		<link href="style/reset.css" rel="stylesheet" type="text/css"  />
		<!-- jquery-ui -->
		<link rel="stylesheet" type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.1/themes/base/jquery-ui.css">
		<!-- tag-it / autocomplete -->
		<link href="style/jquery.ui.autocomplete.custom.css" rel="stylesheet" type="text/css"  />
		<!-- SexyLightbox -->
		<link href="style/sexylightbox.css" rel="stylesheet" type="text/css"  />
		<!-- loading -->
		<link href="style/jquery.loading.1.6.css" rel="stylesheet" type="text/css"  />
		
		<!--  techbrowser -->
		<link rel="stylesheet" type="text/css" href="style/styles.css" />
		<link rel="stylesheet" type="text/css" href="style/techlight.css" />
		<!--  addDialog -->
		<link rel="stylesheet" type="text/css" href="style/addDialog.css" />
		
		<!-- social -->
		<script type="text/javascript" src="http://www.google.com/friendconnect/script/friendconnect.js"></script>
		
		<!-- Load the Google AJAX API Loader -->
		<script type="text/javascript" src="http://www.google.com/jsapi"></script>
	</head>

	<body>
		<!-- needed by google signUp gadget. in general should be removed to clean up the UI -->
		<div id="div-3077155468159348323"></div>
		
		<!-- Load the Google Friend Connect javascript library. -->
		<script type="text/javascript">
		  	google.load('friendconnect', '0.8');
		</script>
		
		<!-- Initialize the Google Friend Connect OpenSocial API. -->
		<script type="text/javascript">
			 google.friendconnect.container.initOpenSocialApi({
			   site: '18358026133409707365',
			   onload: function(securityToken) { 
			   	  var req = opensocial.newDataRequest();
			   	  req.add(req.newFetchPersonRequest("VIEWER"), "viewer_data");
			   	  req.send(onData);
			   }
			 });
			 
			 
			// callback handler for datarequest.send() from above 
			 function onData(data) {
			   var viewer_info = document.getElementById("viewer-info");
			   if (data.get("viewer_data").hadError()) {
				   $("#div-3077155468159348323").show();
			   } else {
				   
			     var viewer = data.get("viewer_data").getData();
			     app.ownerUID = viewer.getId()+"@googleconnect.com"; // XXX handle dual login case
			     $("#div-3077155468159348323").hide();
			     
			     console.log("logged in gmail");
			   } 
			 };
			 
			 google.friendconnect.renderSignInButton({ 'id':'div-3077155468159348323', 'style': 'long' });
		</script>
		
		<!-- needed by fb -->
		<div id="fb-root"></div>
		<!--  script src="http://connect.facebook.net/en_US/all.js#appId=165991020094008&amp;xfbml=1"></script -->
		<script src="http://connect.facebook.net/en_US/all.js"></script>
		<div id="fblogin">
			<fb:login-button></fb:login-button>
		</div>
		<script>
		  FB.init({appId: '165991020094008', status: true, cookie: true, xfbml: true});
		  
		  FB.getLoginStatus(function(response) {
			  if (response.session) {
				  
				  app.ownerUID = response.session.uid+"@facebookconnect.com";
			      $('#fblogin').hide();
			      console.log("logged in facebook");
			  } else {
			    // no user session available, someone you dont know
			  }
			});

		  FB.Event.subscribe('auth.sessionChange', function(response) {
		    if (response.session) {
		    console.log("logged in facebook");
		      app.ownerUID = response.session.uid+"@facebookconnect.com"; // XXX handle dual login case
		      $('#fblogin').hide();
		    } else {
		      app.ownerUID = null;
		      $('#fblogin').show();
		    }
		  });
		</script>
		
		
		
		<div id="page">
			
		    <div>
		    	<ul id="controlmenu" class="controlmenu">
			    	<li><a id="public" href="javascript:void(0)">Public</a></li>
			    	<li><a id="own" href="javascript:void(0)">Own</a></li>
			    	<script type="component-code" source="component/controlmenu"></script>
		    	</ul>
		    </div>
		    
		    <script type="component" source="component/search"></script>
		    
		</div>
		
		<!-- It would be great if you leave the link back to the tutorial. Thanks! -->
		<p class="credit">
			<a href="http://tutorialzine.com/2010/09/google-powered-site-search-ajax-jquery/">Design/Layout by Tzine</a>
			<a href="http://dryicons.com">Add icon by http://dryicons.com</a>
			<a href="http://east.fi">UI Implementation outbounder/EAST</a>
		</p>
		
		<!-- code behind :D -->
		<script src="libs/LAB.js"></script>
		<!-- jquery -->    
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js"></script>
		<!-- tag-it -->
		<script src="libs/jquery/tagit/tag-it.js"></script>
		<!-- Component -->
		<script src="libs/ejs.js"></script>
		<script src="libs/flashjs/component.js"></script>
		<script src="libs/flashjs/component-extend-ejs.js"></script>
		<!-- easing -->
		<script type="text/javascript" src="libs/jquery/jquery.easing.1.3.js"></script>
		<!--  SexyLightbox -->
		<script type="text/javascript" src="libs/jquery/sexylightbox.v2.3/sexylightbox.v2.3.jquery.js"></script>
		<!-- loading -->
		<script type="text/javascript" src="libs/jquery/loading.16.4/jquery.loading.1.6.4.js"></script>
		
		
		<!-- techbrowser  -->
		<script src="app.js"></script>
	</body>
</html>